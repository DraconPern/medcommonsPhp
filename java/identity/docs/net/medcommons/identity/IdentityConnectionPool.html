<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_09) on Sun Nov 06 08:26:27 HST 2005 -->
<TITLE>
IdentityConnectionPool
</TITLE>

<META NAME="keywords" CONTENT="net.medcommons.identity.IdentityConnectionPool class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="IdentityConnectionPool";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../net/medcommons/identity/IdentityConnection.html" title="class in net.medcommons.identity"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../net/medcommons/identity/IdentityServlet.html" title="class in net.medcommons.identity"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="IdentityConnectionPool.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
net.medcommons.identity</FONT>
<BR>
Class IdentityConnectionPool</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by"><B>net.medcommons.identity.IdentityConnectionPool</B>
</PRE>
<HR>
<DL>
<DT>public class <B>IdentityConnectionPool</B><DT>extends java.lang.Object</DL>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../net/medcommons/identity/IdentityConnectionPool.html#IdentityConnectionPool(java.sql.Driver, java.lang.String, java.util.Properties)">IdentityConnectionPool</A></B>(java.sql.Driver&nbsp;driver,
                       java.lang.String&nbsp;url,
                       java.util.Properties&nbsp;properties)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new IdentityConnection pool.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../net/medcommons/identity/IdentityConnection.html" title="class in net.medcommons.identity">IdentityConnection</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/medcommons/identity/IdentityConnectionPool.html#getConnection()">getConnection</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get an IdentityConnection, either by pulling it out of the pool, or by
 making a new one.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../net/medcommons/identity/IdentityConnectionPool.html" title="class in net.medcommons.identity">IdentityConnectionPool</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/medcommons/identity/IdentityConnectionPool.html#GetInstance(javax.servlet.ServletContext)">GetInstance</A></B>(javax.servlet.ServletContext&nbsp;ctx)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A bunch of different servlets in the same servlet context can all share
 the same IdentityConnectionPool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../net/medcommons/identity/IdentityConnection.html" title="class in net.medcommons.identity">IdentityConnection</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/medcommons/identity/IdentityConnectionPool.html#newConnection()">newConnection</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../net/medcommons/identity/IdentityConnectionPool.html" title="class in net.medcommons.identity">IdentityConnectionPool</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/medcommons/identity/IdentityConnectionPool.html#NewInstance(javax.servlet.ServletContext)">NewInstance</A></B>(javax.servlet.ServletContext&nbsp;ctx)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new IdentityConnection pool based on ServletContext
 initialization parameters.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/medcommons/identity/IdentityConnectionPool.html#releaseConnection(net.medcommons.identity.IdentityConnection)">releaseConnection</A></B>(<A HREF="../../../net/medcommons/identity/IdentityConnection.html" title="class in net.medcommons.identity">IdentityConnection</A>&nbsp;c)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Release a connection back to the pool.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="IdentityConnectionPool(java.sql.Driver, java.lang.String, java.util.Properties)"><!-- --></A><H3>
IdentityConnectionPool</H3>
<PRE>
public <B>IdentityConnectionPool</B>(java.sql.Driver&nbsp;driver,
                              java.lang.String&nbsp;url,
                              java.util.Properties&nbsp;properties)</PRE>
<DL>
<DD>Create a new IdentityConnection pool.
<P>
<DT><B>Parameters:</B><DD><CODE>driver</CODE> - - JDBC driver to use<DD><CODE>url</CODE> - - JDBC URL to database<DD><CODE>properties</CODE> - - set of properties to use when connecting to DB</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="GetInstance(javax.servlet.ServletContext)"><!-- --></A><H3>
GetInstance</H3>
<PRE>
public static <A HREF="../../../net/medcommons/identity/IdentityConnectionPool.html" title="class in net.medcommons.identity">IdentityConnectionPool</A> <B>GetInstance</B>(javax.servlet.ServletContext&nbsp;ctx)
                                          throws java.lang.ClassNotFoundException,
                                                 java.lang.InstantiationException,
                                                 java.lang.IllegalAccessException,
                                                 java.sql.SQLException</PRE>
<DL>
<DD>A bunch of different servlets in the same servlet context can all share
 the same IdentityConnectionPool.  Pass the ServletContext to
 GetInstance(), and it either finds an IdentityConnectionPool previously
 stored as an attribute, or it uses the context init parameters to build
 a new one.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ctx</CODE> - ServletContext shared between a group of servlets
<DT><B>Throws:</B>
<DD><CODE>java.lang.ClassNotFoundException</CODE> - if we can't find the JDBC driver
            class
<DD><CODE>java.lang.InstantiationException</CODE> - if the JDBC driver does not have
            an appropriate constructor (probably got the wrong driver
            name)
<DD><CODE>java.lang.IllegalAccessException</CODE> - if the JDBC driver isn't a public
            class (probably got the wrong driver name)
<DD><CODE>java.sql.SQLException</CODE><DT><B>See Also:</B><DD><A HREF="../../../net/medcommons/identity/IdentityConnectionPool.html#NewInstance(javax.servlet.ServletContext)"><CODE>NewInstance(javax.servlet.ServletContext)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="NewInstance(javax.servlet.ServletContext)"><!-- --></A><H3>
NewInstance</H3>
<PRE>
public static <A HREF="../../../net/medcommons/identity/IdentityConnectionPool.html" title="class in net.medcommons.identity">IdentityConnectionPool</A> <B>NewInstance</B>(javax.servlet.ServletContext&nbsp;ctx)
                                          throws java.lang.ClassNotFoundException,
                                                 java.lang.InstantiationException,
                                                 java.lang.IllegalAccessException,
                                                 java.sql.SQLException</PRE>
<DL>
<DD>Create a new IdentityConnection pool based on ServletContext
 initialization parameters.

 The context parameters must include:
   driver   - Java class name for JDBC driver,
              ex. com.mysql.jdbc.Driver
   database - JDBC url of database to connect to,
              ex. jdbc:mysql://localhost/mcidentity

   db.*     - all parameters starting with 'db.' are placed in a set of
              properties and passed to JDBC on connection,
              ex. db.user=web, db.password=password
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ctx</CODE> - ServletContext shared between a group of servlets
<DT><B>Throws:</B>
<DD><CODE>java.lang.ClassNotFoundException</CODE> - if we can't find the JDBC driver
            class
<DD><CODE>java.lang.InstantiationException</CODE> - if the JDBC driver does not have
            an appropriate constructor (probably got the wrong driver
            name)
<DD><CODE>java.lang.IllegalAccessException</CODE> - if the JDBC driver isn't a public
            class (probably got the wrong driver name)
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getConnection()"><!-- --></A><H3>
getConnection</H3>
<PRE>
public <A HREF="../../../net/medcommons/identity/IdentityConnection.html" title="class in net.medcommons.identity">IdentityConnection</A> <B>getConnection</B>()
                                 throws java.sql.SQLException,
                                        java.lang.InterruptedException</PRE>
<DL>
<DD>Get an IdentityConnection, either by pulling it out of the pool, or by
 making a new one.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - on any error creating the connection,
            or preparing the Identity SQL statements.
<DD><CODE>java.lang.InterruptedException</CODE> - if another thread interrupts us while waiting
            on the pool</DL>
</DD>
</DL>
<HR>

<A NAME="releaseConnection(net.medcommons.identity.IdentityConnection)"><!-- --></A><H3>
releaseConnection</H3>
<PRE>
public void <B>releaseConnection</B>(<A HREF="../../../net/medcommons/identity/IdentityConnection.html" title="class in net.medcommons.identity">IdentityConnection</A>&nbsp;c)
                       throws java.sql.SQLException</PRE>
<DL>
<DD>Release a connection back to the pool.  If the pool is full, close
 the connection.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="newConnection()"><!-- --></A><H3>
newConnection</H3>
<PRE>
public <A HREF="../../../net/medcommons/identity/IdentityConnection.html" title="class in net.medcommons.identity">IdentityConnection</A> <B>newConnection</B>()
                                 throws java.sql.SQLException</PRE>
<DL>
<DD>Create a new connection.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - on any error creating the connection,
            or preparing the Identity SQL statements.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../net/medcommons/identity/IdentityConnection.html" title="class in net.medcommons.identity"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../net/medcommons/identity/IdentityServlet.html" title="class in net.medcommons.identity"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="IdentityConnectionPool.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
